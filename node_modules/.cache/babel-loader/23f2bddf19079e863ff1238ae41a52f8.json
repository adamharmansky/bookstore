{"ast":null,"code":"var _jsxFileName = \"/home/plunder/coding/bookstore/src/BookList.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Axios from \"axios\";\nimport \"./App.css\";\nimport { get_query, minutesToReadableTime } from \"./Utility\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst config = require(\"./config\");\n\nexport default function BookList() {\n  _s();\n\n  var [bookList, setBookList] = React.useState([]);\n  var [pageCount, setPageCount] = React.useState(0);\n  React.useEffect(() => {\n    const url = new URL(window.location.href);\n    Axios.get(config.apiUrl + \"list\" + url.search).then(data => {\n      console.log(data);\n      setBookList(data.data.books);\n      setPageCount(data.data.pageCount);\n    });\n  }, []);\n  const page_text = get_query(\"page\");\n  const current_page = page_text.length > 0 ? parseInt(page_text) : 0;\n  const query = get_query(\"q\"); // Adding page numbers to the bottom of the page\n\n  const pageNumbers = [];\n  if (current_page > 0) pageNumbers.push( /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"pageNumber\",\n    href: \"/list?page=\" + (current_page - 1) + (query ? \"&q=\" + query : \"\"),\n    children: [\" \", \"<<\", \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 27\n  }, this));\n\n  for (let i = 0; i < pageCount; i++) pageNumbers.push(i === current_page ? /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"currentPageNumber\",\n    children: i\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 50\n  }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"pageNumber\",\n    href: \"/list?page=\" + i + (query ? \"&q=\" + query : \"\"),\n    children: [\" \", i, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 102\n  }, this));\n\n  if (current_page < pageCount - 1) pageNumbers.push( /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"pageNumber\",\n    href: \"/list?page=\" + (current_page + 1) + (query ? \"&q=\" + query : \"\"),\n    children: [\" \", \">>\", \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 27\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"BooksHeading\",\n      children: \" Knihy \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"SearchForm\",\n      name: \"search_form\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"q\",\n        type: \"text\",\n        placeholder: \"Zadajte n\\xE1zov knihy...\",\n        defaultValue: query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"BookList\",\n      children: [bookList.map(value => {\n        const authors = [];\n\n        for (let i = 0; i < value.authors.length; i++) {\n          authors.push( /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"BookPageAuthor\",\n              href: \"/author/\" + value.authors[i].author_id,\n              children: [\" \", value.authors[i].author_name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 45\n            }, this), \"; \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 38\n          }, this));\n        }\n\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"BookListItem\",\n          href: \"/book/\" + value.isbn,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"BookListItemImage\",\n            src: value.image ? value.image : \"/reading.png\",\n            alt: \"Ch\\xFDbaj\\xFAci obr\\xE1zok\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"BookListItemBlock\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"BookListItemTitle\",\n              children: [\" \", value.title, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"BookListItemInfo\",\n              children: [\" \", authors, \" \", value.year_pub, \", \", value.pages, \" str\\xE1n, \", minutesToReadableTime(value.read_time), \", \", value.lang_name, \", \", value.subject_name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"BookListDescription\",\n              children: [\" \", value.desc ? value.desc.slice(0, 360) + (value.desc.length > 360 ? \"...\" : \"\") : \"Žiaden popis\", \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", bookList.length === 0 ? \"Neboli nájdené žiadne knihy\" : \"\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), pageCount > 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageNumbers\",\n        children: [\" \", pageNumbers, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 34\n      }, this) : []]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(BookList, \"JvPzeTImY9c47US+K4iU7s+KapI=\");\n\n_c = BookList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BookList\");","map":{"version":3,"sources":["/home/plunder/coding/bookstore/src/BookList.jsx"],"names":["React","Axios","get_query","minutesToReadableTime","config","require","BookList","bookList","setBookList","useState","pageCount","setPageCount","useEffect","url","URL","window","location","href","get","apiUrl","search","then","data","console","log","books","page_text","current_page","length","parseInt","query","pageNumbers","push","i","map","value","authors","author_id","author_name","isbn","image","title","year_pub","pages","read_time","lang_name","subject_name","desc","slice"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAASC,SAAT,EAAoBC,qBAApB,QAAiD,WAAjD;;;AAEA,MAAMC,MAAM,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA;;AAC/B,MAAI,CAACC,QAAD,EAAWC,WAAX,IAA0BR,KAAK,CAACS,QAAN,CAAe,EAAf,CAA9B;AACA,MAAI,CAACC,SAAD,EAAYC,YAAZ,IAA4BX,KAAK,CAACS,QAAN,CAAe,CAAf,CAAhC;AAEAT,EAAAA,KAAK,CAACY,SAAN,CAAgB,MAAM;AAClB,UAAMC,GAAG,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,QAAP,CAAgBC,IAAxB,CAAZ;AACAhB,IAAAA,KAAK,CAACiB,GAAN,CAAUd,MAAM,CAACe,MAAP,GAAgB,MAAhB,GAAyBN,GAAG,CAACO,MAAvC,EAA+CC,IAA/C,CAAqDC,IAAD,IAAU;AAC1DC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAd,MAAAA,WAAW,CAACc,IAAI,CAACA,IAAL,CAAUG,KAAX,CAAX;AACAd,MAAAA,YAAY,CAACW,IAAI,CAACA,IAAL,CAAUZ,SAAX,CAAZ;AACH,KAJD;AAKH,GAPD,EAOG,EAPH;AASA,QAAMgB,SAAS,GAAGxB,SAAS,CAAC,MAAD,CAA3B;AACA,QAAMyB,YAAY,GAAGD,SAAS,CAACE,MAAV,GAAmB,CAAnB,GAAuBC,QAAQ,CAACH,SAAD,CAA/B,GAA6C,CAAlE;AACA,QAAMI,KAAK,GAAG5B,SAAS,CAAC,GAAD,CAAvB,CAf+B,CAiB/B;;AACA,QAAM6B,WAAW,GAAG,EAApB;AACA,MAAIJ,YAAY,GAAG,CAAnB,EACII,WAAW,CAACC,IAAZ,eAAkB;AAAG,IAAA,SAAS,EAAC,YAAb;AAA0B,IAAA,IAAI,EAAE,iBAAiBL,YAAY,GAAG,CAAhC,KAAsCG,KAAK,GAAG,QAAQA,KAAX,GAAmB,EAA9D,CAAhC;AAAA,oBAAqG,IAArG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAlB;;AACJ,OAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvB,SAApB,EAA+BuB,CAAC,EAAhC,EACIF,WAAW,CAACC,IAAZ,CAAkBC,CAAC,KAAKN,YAAN,gBAAuB;AAAM,IAAA,SAAS,EAAC,mBAAhB;AAAA,cAAqCM;AAArC;AAAA;AAAA;AAAA;AAAA,UAAvB,gBAA2E;AAAG,IAAA,SAAS,EAAC,YAAb;AAA0B,IAAA,IAAI,EAAE,gBAAgBA,CAAhB,IAAqBH,KAAK,GAAG,QAAQA,KAAX,GAAmB,EAA7C,CAAhC;AAAA,oBAAoFG,CAApF;AAAA;AAAA;AAAA;AAAA;AAAA,UAA7F;;AACJ,MAAIN,YAAY,GAAGjB,SAAS,GAAG,CAA/B,EACIqB,WAAW,CAACC,IAAZ,eAAkB;AAAG,IAAA,SAAS,EAAC,YAAb;AAA0B,IAAA,IAAI,EAAE,iBAAiBL,YAAY,GAAG,CAAhC,KAAsCG,KAAK,GAAG,QAAQA,KAAX,GAAmB,EAA9D,CAAhC;AAAA,oBAAqG,IAArG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAlB;AAEJ,sBACI;AAAA,4BACI;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,IAAI,EAAC,aAAlC;AAAA,6BACI;AAAO,QAAA,IAAI,EAAC,GAAZ;AAAgB,QAAA,IAAI,EAAC,MAArB;AAA4B,QAAA,WAAW,EAAC,2BAAxC;AAAiE,QAAA,YAAY,EAAEA;AAA/E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFJ,eAKI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,iBAGKvB,QAAQ,CAAC2B,GAAT,CAAcC,KAAD,IAAW;AAErB,cAAMC,OAAO,GAAG,EAAhB;;AACA,aAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,KAAK,CAACC,OAAN,CAAcR,MAAlC,EAA0CK,CAAC,EAA3C,EAA+C;AAC3CG,UAAAA,OAAO,CAACJ,IAAR,eAAa;AAAA,yCAAO;AAAG,cAAA,SAAS,EAAC,gBAAb;AAA8B,cAAA,IAAI,EAAE,aAAaG,KAAK,CAACC,OAAN,CAAcH,CAAd,EAAiBI,SAAlE;AAAA,8BAA+EF,KAAK,CAACC,OAAN,CAAcH,CAAd,EAAiBK,WAAhG;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAb;AACH;;AAED,4BACI;AAAG,UAAA,SAAS,EAAC,cAAb;AAA4B,UAAA,IAAI,EAAE,WAAWH,KAAK,CAACI,IAAnD;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAmC,YAAA,GAAG,EAAEJ,KAAK,CAACK,KAAN,GAAcL,KAAK,CAACK,KAApB,GAA4B,cAApE;AAAoF,YAAA,GAAG,EAAC;AAAxF;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,oCACI;AAAI,cAAA,SAAS,EAAC,mBAAd;AAAA,8BAAoCL,KAAK,CAACM,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,8BAAoCL,OAApC,OAA8CD,KAAK,CAACO,QAApD,QAAgEP,KAAK,CAACQ,KAAtE,iBAAqFxC,qBAAqB,CAACgC,KAAK,CAACS,SAAP,CAA1G,QAA+HT,KAAK,CAACU,SAArI,QAAkJV,KAAK,CAACW,YAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAG,cAAA,SAAS,EAAC,qBAAb;AAAA,8BAAqCX,KAAK,CAACY,IAAN,GAAaZ,KAAK,CAACY,IAAN,CAAWC,KAAX,CAAiB,CAAjB,EAAoB,GAApB,KAA4Bb,KAAK,CAACY,IAAN,CAAWnB,MAAX,GAAoB,GAApB,GAA0B,KAA1B,GAAkC,EAA9D,CAAb,GAAiF,cAAtH;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ;AAUH,OAjBA,CAHL,eAsBI;AAAA,wBAAKrB,QAAQ,CAACqB,MAAT,KAAoB,CAApB,GAAwB,6BAAxB,GAAwD,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA,cAtBJ,EAuBKlB,SAAS,GAAG,CAAZ,gBAAgB;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,wBAA+BqB,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,cAAhB,GAAqE,EAvB1E;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiCH;;GA3DuBzB,Q;;KAAAA,Q","sourcesContent":["import React from \"react\";\n\nimport Axios from \"axios\";\nimport \"./App.css\";\nimport { get_query, minutesToReadableTime } from \"./Utility\";\n\nconst config = require(\"./config\");\n\nexport default function BookList() {\n    var [bookList, setBookList] = React.useState([]);\n    var [pageCount, setPageCount] = React.useState(0);\n\n    React.useEffect(() => {\n        const url = new URL(window.location.href);\n        Axios.get(config.apiUrl + \"list\" + url.search).then((data) => {\n            console.log(data);\n            setBookList(data.data.books);\n            setPageCount(data.data.pageCount);\n        });\n    }, []);\n\n    const page_text = get_query(\"page\");\n    const current_page = page_text.length > 0 ? parseInt(page_text) : 0;\n    const query = get_query(\"q\");\n\n    // Adding page numbers to the bottom of the page\n    const pageNumbers = [];\n    if (current_page > 0)\n        pageNumbers.push( <a className=\"pageNumber\" href={\"/list?page=\" + (current_page - 1) + (query ? \"&q=\" + query : \"\")}> {\"<<\"} </a>);\n    for (let i = 0; i < pageCount; i++) \n        pageNumbers.push( i === current_page ? ( <span className=\"currentPageNumber\">{i}</span>) : ( <a className=\"pageNumber\" href={\"/list?page=\" + i + (query ? \"&q=\" + query : \"\")}> {i} </a>));\n    if (current_page < pageCount - 1) \n        pageNumbers.push( <a className=\"pageNumber\" href={\"/list?page=\" + (current_page + 1) + (query ? \"&q=\" + query : \"\")}> {\">>\"} </a>);\n\n    return (\n        <div>\n            <h1 className=\"BooksHeading\"> Knihy </h1> \n            <form className=\"SearchForm\" name=\"search_form\">\n                <input name=\"q\" type=\"text\" placeholder=\"Zadajte názov knihy...\" defaultValue={query} />\n            </form>\n            <div className=\"BookList\">\n\n                {/* Mapping bookList values to the page */}\n                {bookList.map((value) => {\n\n                    const authors = [];\n                    for (let i = 0; i < value.authors.length; i++) {\n                        authors.push(<span> <a className=\"BookPageAuthor\" href={\"/author/\" + value.authors[i].author_id}> {value.authors[i].author_name} </a>; </span>);\n                    }\n\n                    return (\n                        <a className=\"BookListItem\" href={\"/book/\" + value.isbn}>\n                            <img className=\"BookListItemImage\" src={value.image ? value.image : \"/reading.png\"} alt=\"Chýbajúci obrázok\"></img>\n                            <div className=\"BookListItemBlock\">\n                                <h2 className=\"BookListItemTitle\"> {value.title} </h2>\n                                <div className=\"BookListItemInfo\"> {authors} {value.year_pub}, {value.pages} strán, {minutesToReadableTime(value.read_time)}, {value.lang_name}, {value.subject_name} </div>\n                                <p className=\"BookListDescription\"> {value.desc ? value.desc.slice(0, 360) + (value.desc.length > 360 ? \"...\" : \"\") : \"Žiaden popis\"} </p>\n                            </div>\n                        </a>\n                    );\n                })}\n\n                <p> {bookList.length === 0 ? \"Neboli nájdené žiadne knihy\" : \"\"} </p>\n                {pageCount > 1 ? <div className=\"pageNumbers\"> {pageNumbers} </div> : []}\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}