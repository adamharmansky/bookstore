{"ast":null,"code":"var _jsxFileName = \"/home/plunder/coding/bookstore/src/AuthorList.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Axios from 'axios';\nimport './App.css';\nimport { get_query } from './Utility';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst config = require('./config');\n\nexport default function AuthorList() {\n  _s();\n\n  var [authorList, setAuthorList] = React.useState([]);\n  var [pageCount, setPageCount] = React.useState(0);\n  React.useEffect(() => {\n    const url = new URL(window.location.href);\n    Axios.get(config.apiUrl + 'author/list' + url.search).then(data => {\n      console.log(data);\n      setAuthorList(data.data.authors);\n      setPageCount(data.data.pageCount);\n    });\n  }, []);\n  const pageNumbers = [];\n  const page_text = get_query('page');\n  const current_page = page_text.length > 0 ? parseInt(page_text) : 0;\n  const query = get_query('q');\n  if (current_page > 0) pageNumbers.push( /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"pageNumber\",\n    href: \"/authors?page=\" + (current_page - 1) + (query ? \"&q=\" + query : \"\"),\n    children: \"<<\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 44\n  }, this));\n\n  for (let i = 0; i < pageCount; i++) {\n    pageNumbers.push(i === current_page ? /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"currentPageNumber\",\n      children: i\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 47\n    }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n      className: \"pageNumber\",\n      href: \"/authors?page=\" + i + (query ? \"&q=\" + query : \"\"),\n      children: i\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 96\n    }, this));\n  }\n\n  if (current_page < pageCount - 1) pageNumbers.push( /*#__PURE__*/_jsxDEV(\"a\", {\n    className: \"pageNumber\",\n    href: \"/authors?page=\" + (current_page + 1) + (query ? \"&q=\" + query : \"\"),\n    children: \">>\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 54\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"AuthorsHeading\",\n      children: \" Autori \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"SearchForm\",\n      name: \"search_form\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"q\",\n        type: \"text\",\n        placeholder: \"Zadajte meno autora...\",\n        defaultValue: query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"AuthorList\",\n      children: [authorList.map((value, key) => {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"AuthorListItem\",\n          href: \"/author/\" + value.author_id,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"AuthorListItemTitle\",\n            children: [\" \", value.author_name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 25\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", authorList.length === 0 ? \"Neboli nájdené žiadne výsledky\" : \"\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), pageCount > 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageNumbers\",\n        children: [\" \", pageNumbers, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 34\n      }, this) : []]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AuthorList, \"71eZuWBO8JOQUrZBrjzt55LjXT4=\");\n\n_c = AuthorList;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthorList\");","map":{"version":3,"sources":["/home/plunder/coding/bookstore/src/AuthorList.jsx"],"names":["React","Axios","get_query","config","require","AuthorList","authorList","setAuthorList","useState","pageCount","setPageCount","useEffect","url","URL","window","location","href","get","apiUrl","search","then","data","console","log","authors","pageNumbers","page_text","current_page","length","parseInt","query","push","i","map","value","key","author_id","author_name"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Axios from 'axios';\nimport './App.css';\nimport {get_query} from './Utility';\n\nconst config = require('./config');\n\nexport default function AuthorList() {\n    var [authorList, setAuthorList] = React.useState([]);\n    var [pageCount, setPageCount] = React.useState(0);\n\n    React.useEffect(() => {\n        const url = new URL(window.location.href)\n        Axios.get(config.apiUrl + 'author/list' + url.search).then((data) => {\n            console.log(data);\n            setAuthorList(data.data.authors);\n            setPageCount(data.data.pageCount);\n        })\n    }, [])\n\n    const pageNumbers = [];\n    const page_text = get_query('page')\n    const current_page = page_text.length > 0 ? parseInt(page_text) : 0;\n    const query = get_query('q');\n\n    if (current_page > 0) pageNumbers.push(<a className=\"pageNumber\" href={\"/authors?page=\"+(current_page-1)+(query?\"&q=\"+query:\"\")}>{\"<<\"}</a>);\n    for (let i = 0; i < pageCount; i++) {\n        pageNumbers.push(i === current_page ? <span className=\"currentPageNumber\">{i}</span> : <a className=\"pageNumber\" href={\"/authors?page=\"+i+(query?\"&q=\"+query:\"\")}>{i}</a>);\n    }\n    if (current_page < pageCount-1) pageNumbers.push(<a className=\"pageNumber\" href={\"/authors?page=\"+(current_page+1)+(query?\"&q=\"+query:\"\")}>{\">>\"}</a>);\n\n    return (\n        <div>\n            <h1 className=\"AuthorsHeading\"> Autori </h1>\n            <form className=\"SearchForm\" name=\"search_form\">\n                <input name=\"q\" type=\"text\" placeholder=\"Zadajte meno autora...\" defaultValue={query}/>\n            </form>\n            <div className='AuthorList'>\n                {authorList.map((value, key) => {\n                    return (\n                        <a className='AuthorListItem' href={\"/author/\" + value.author_id}>\n                            <div className='AuthorListItemTitle'> {value.author_name} </div>\n                        </a>\n                    );\n                })}\n                <p> {authorList.length === 0 ? \"Neboli nájdené žiadne výsledky\" : \"\"} </p>\n                {pageCount > 1 ? <div className=\"pageNumbers\"> {pageNumbers} </div> : []}\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}